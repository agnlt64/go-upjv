{% extends "base.html" %}
{% from "macros.html" import users_icon, star_icon %}

{% block content %}
<div class="flex min-h-screen pt-20 overflow-x-hidden">
    <button id="admin-sidebar-toggle"
        class="lg:hidden fixed top-24 left-4 z-20 bg-white border border-gray-200 shadow-lg rounded-full p-3 text-blue-600 hover:bg-blue-50 transition-colors">
        <svg id="admin-sidebar-open" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
        <svg id="admin-sidebar-close" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
    </button>

    <div id="admin-sidebar-overlay" class="hidden lg:hidden fixed inset-0 bg-black/30 z-10"></div>

    <aside id="admin-sidebar"
        class="w-56 bg-white border-r border-gray-200 shadow-sm fixed left-0 top-20 h-[calc(100vh-5rem)] z-10 transition-transform duration-300 -translate-x-full lg:translate-x-0">
        <nav class="p-4 space-y-2">
            <h2 class="text-lg font-semibold text-gray-800 mb-4 px-3">Administration</h2>
            <a href="{{ url_for('admin.admin_users') }}"
                class="flex items-center gap-3 px-3 py-2 rounded-lg transition-all {{ 'bg-blue-50 text-blue-700 font-medium' if request.endpoint == 'admin.admin_users' else 'text-gray-600 hover:bg-gray-100' }}">
                {{ users_icon() }}
                Utilisateurs
            </a>
            <a href="{{ url_for('admin.admin_reviews') }}"
                class="flex items-center gap-3 px-3 py-2 rounded-lg transition-all {{ 'bg-blue-50 text-blue-700 font-medium' if request.endpoint == 'admin.admin_reviews' else 'text-gray-600 hover:bg-gray-100' }}">
                {{ star_icon() }}
                Avis
            </a>
        </nav>
    </aside>

    <main class="flex-1 lg:ml-56 p-4 min-w-0">
        {% block admin_content %}{% endblock %}
    </main>
</div>

<script src="{{ url_for('static', filename='js/admin_sidebar.js') }}"></script>
{% endblock %}