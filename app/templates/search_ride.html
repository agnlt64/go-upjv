{% extends 'base.html' %}

{% block title %}Chercher un trajet - GoUPJV{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
    <style>
        .leaflet-routing-container { display: none !important; }
        #map { min-height: 500px; height: 100%; width: 100%; }
    </style>
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-24">
    
    <div class="mb-6">
        <input type="text" id="search-input" placeholder="Rechercher une adresse..." 
               class="w-full md:w-1/2 p-4 rounded-xl bg-gray-100 border-none shadow-sm focus:ring-2 focus:ring-purple-500 outline-none">
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:h-[600px] h-auto">
        
        <div class="w-full h-[500px] lg:h-full rounded-2xl overflow-hidden shadow-xl border-4 border-white relative z-0">
            <div id="map"></div>
        </div>

        <div class="flex flex-col h-full">
            <h2 class="text-xl font-bold text-gray-700 mb-4">Trajets disponibles</h2>
            <div id="rides-container" class="flex-1 overflow-y-auto pr-2 pb-10 max-h-[600px]">
                <div class="flex justify-center items-center h-full">
                    <p class="text-gray-400">Chargement de la carte...</p>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}

{% block scripts %}
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
    <script src="{{ url_for('static', filename='js/search.js') }}"></script>
{% endblock %}