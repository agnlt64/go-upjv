{% from 'macros.html' import logout_icon, user_icon, nav_link, logo, flash_messages %}

<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}GoUPJV{% endblock %}</title>
    <link rel="icon" href="{{ url_for('static', filename='media/favicon.svg') }}" type="image/svg+xml">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/font.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/colors.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/flash-messages.css') }}">
    {% block styles %}
    {% endblock %}
</head>

<body class="h-screen flex flex-col bg-gray-50">
    <header class="fixed top-0 w-full z-50">
        <nav class="px-8 py-3 rounded-full m-5 bg-white border border-gray-200 shadow-lg">
            <ul class="flex justify-between items-center">
                <div>
                    {% if user.is_authenticated %}
                        {{ nav_link('main.logout', logout_icon()) }}
                    {% else %}
                        {{ nav_link('main.index', logo()) }}
                    {% endif %}
                </div>
                <div class="flex gap-8">
                    {% if not user.is_authenticated %}
                        {{ nav_link('main.sign_up', 'Inscription') }}
                        {{ nav_link('main.login', 'Connexion') }}
                    {% else %}
                        {{ nav_link('main.search_ride', 'Rechercher un trajet') }}
                        {{ nav_link('main.offer_ride', 'Proposer un trajet') }}
                        {{ nav_link('main.my_reservations', 'Mes r√©servations') }}
                    {% endif %}
                    {% if user.is_admin %}
                        {{ nav_link('admin.admin_index', 'Administration') }}
                    {% endif %}
                </div>
                <div>
                    {% if user.is_authenticated %}
                        {{ nav_link('main.user_profile', user_icon()) }}
                    {% endif %}
                </div>
            </ul>
        </nav>
    </header>

    <!-- <main class="flex-grow pt-32 px-4 w-full max-w-screen-2xl mx-auto">
        
        <div class="mb-6 w-full max-w-2xl mx-auto">
            {{ flash_messages() }}
        </div> -->

        {% block content %}{% endblock %}
    <!-- </main> -->
<!--     
    <footer class="text-center py-4 text-gray-400 text-sm mt-auto">
        &copy; 2026 GoUPJV
    </footer> -->

    {# C'est ici que les templates enfants injecteront leurs propres scripts #}
    {% block scripts %}
    <script src="{{ url_for('static', filename='js/offer_ride.js') }}"></script>
    {% endblock %}
</body>
</html>